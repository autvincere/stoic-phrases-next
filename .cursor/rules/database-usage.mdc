---
description:
globs:
alwaysApply: false
---
# Configuración de Base de Datos

Este proyecto utiliza PostgreSQL como base de datos.

## Implementación Actual

El proyecto actualmente usa una conexión directa a PostgreSQL con la librería `pg`:
- [db.ts](mdc:db.ts) - Pool principal de conexión a la base de datos

## Modelo de Datos

La tabla principal es `phrases` con la siguiente estructura:
- `id`: Identificador único (entero, clave primaria)
- `author`: Autor de la frase (texto)
- `phrase`: Contenido de la frase (texto)
- `image_url`: URL opcional a una imagen (texto, puede ser nulo)

## Pruebas

Las interacciones con la base de datos se prueban con:
- [src/app/api/phrases/__tests__/unit/phrases.unit.test.ts](mdc:src/app/api/phrases/__tests__/unit/phrases.unit.test.ts) - Pruebas unitarias que simulan la base de datos
